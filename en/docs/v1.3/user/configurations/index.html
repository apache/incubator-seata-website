<!doctype html>
<html lang="en-US" dir="ltr" class="docs-wrapper docs-doc-page docs-version-v1.3 plugin-docs plugin-id-default docs-doc-id-user/configurations">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Seata Parameter Configuration | Seata</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://seata.io/en/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://seata.io/en/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://seata.io/en/docs/v1.3/user/configurations"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="v1.3"><meta data-rh="true" name="docusaurus_tag" content="docs-default-v1.3"><meta data-rh="true" name="docsearch:version" content="v1.3"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-v1.3"><meta data-rh="true" property="og:title" content="Seata Parameter Configuration | Seata"><meta data-rh="true" name="description" content="Seata parameter configuration."><meta data-rh="true" property="og:description" content="Seata parameter configuration."><meta data-rh="true" name="keywords" content="Seata"><link data-rh="true" rel="icon" href="/en/img/seata_logo_small.jpeg"><link data-rh="true" rel="canonical" href="https://seata.io/en/docs/v1.3/user/configurations"><link data-rh="true" rel="alternate" href="https://seata.io/en/docs/v1.3/user/configurations" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://seata.io/zh-cn/docs/v1.3/user/configurations" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://seata.io/docs/v1.3/user/configurations" hreflang="default"><link data-rh="true" rel="alternate" href="https://seata.io/docs/v1.3/user/configurations" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://ICHFIJRDZF-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/en/blog/rss.xml" title="Seata RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/en/blog/atom.xml" title="Seata Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Seata" href="/en/opensearch.xml">

<meta name="aes-config" content="pid=xux-opensource&amp;user_type=101&amp;uid=&amp;username=&amp;dim10=seata">
<link rel="stylesheet" href="//g.alicdn.com/mamba/assets/0.0.19/mse-arc-ui.min.css">
<script src="//g.alicdn.com/mamba/assets/0.0.19/mse-arc-ui.min.js"></script>
<script src="https://www.googletagmanager.com/gtag/js?id=G-X4LJGF90X2" async></script><link rel="stylesheet" href="/en/assets/css/styles.86a4e03d.css">
<link rel="preload" href="/en/assets/js/runtime~main.a46eb36c.js" as="script">
<link rel="preload" href="/en/assets/js/main.abe8d3c8.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script>


<script src="https://hm.baidu.com/hm.js?104e73ef0c18b416b27abb23757ed8ee"></script>
<script src="//g.alicdn.com/alilog/mlog/aplus_v2.js" id="beacon-aplus" exparams="clog=o&amp;aplus&amp;sidx=aplusSidx&amp;ckx=aplusCkx"></script>
<script src="//g.alicdn.com/aes/??tracker/1.0.34/index.js,tracker-plugin-pv/2.4.5/index.js,tracker-plugin-event/1.2.5/index.js,tracker-plugin-jserror/1.0.13/index.js,tracker-plugin-api/1.1.14/index.js,tracker-plugin-perf/1.1.8/index.js,tracker-plugin-eventTiming/1.0.4/index.js"></script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/en/"><div class="navbar__logo"><img src="/en/img/seata_logo.png" alt="Seata Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/en/img/seata_logo.png" alt="Seata Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/en/">Home</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" docid="/overview/what-is-seata" href="/en/docs/v1.3/overview/what-is-seata">v1.3</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/en/docs/next/user/configurations">User Documentation</a></li><li><a class="dropdown__link" href="/en/docs/user/configurations">v2.0</a></li><li><a class="dropdown__link" href="/en/docs/v1.8/user/configurations">v1.8</a></li><li><a class="dropdown__link" href="/en/docs/v1.7/user/configurations">v1.7</a></li><li><a class="dropdown__link" href="/en/docs/v1.6/user/configurations">v1.6</a></li><li><a class="dropdown__link" href="/en/docs/v1.5/user/configurations">v1.5</a></li><li><a class="dropdown__link" href="/en/docs/v1.4/user/configurations">v1.4</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/en/docs/v1.3/user/configurations">v1.3</a></li><li><a class="dropdown__link" href="/en/docs/v1.2/user/configurations">v1.2</a></li><li><a class="dropdown__link" href="/en/docs/v1.1/user/configurations">v1.1</a></li><li><a class="dropdown__link" href="/en/docs/v1.0/user/configurations">v1.0</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Solutions</a><ul class="dropdown__menu"><li><a href="https://www.aliyun.com/product/aliware/mse?spm=seata-website.topbar.0.0.0" target="_blank" rel="noopener noreferrer" class="dropdown__link">Seata in Cloud<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://help.aliyun.com/document_detail/132903.html?spm=seata-website.topbar.0.0.0" target="_blank" rel="noopener noreferrer" class="dropdown__link">SOFA distributed transaction<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://free.aliyun.com/?searchKey=nacos&amp;spm=seata-website.topbar.0.0.0" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Free trial<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a class="navbar__item navbar__link" href="/en/docs/v1.3/developers/developers_dev">Developers</a><a href="https://mp.weixin.qq.com/s/nvDmIJEuDaNEY3RfTA3UyA" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Recruitment</a><a class="navbar__item navbar__link" href="/en/blog">Blog</a><a class="navbar__item navbar__link" href="/en/community">Community</a><a class="navbar__item navbar__link" href="/en/docs/v1.3/download">Download</a><a href="http://demo.seata.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Console sample</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_DSK9"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>En</a><ul class="dropdown__menu"><li><a href="/en/docs/v1.3/user/configurations" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en-US">En</a></li><li><a href="/zh-cn/docs/v1.3/user/configurations" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-CN">中</a></li></ul></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Overview</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/v1.3/overview/what-is-seata">What Is Seata?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/v1.3/overview/terminology">Terminology</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/v1.3/overview/faq">FAQ</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">User Doc</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/v1.3/user/quickstart">Quick Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/en/docs/v1.3/user/configurations">Seata Parameter Configuration</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/en/docs/v1.3/user/txgroup/transaction-group">Transactions Grouping</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/en/docs/v1.3/user/configuration/">Configuration Center</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/en/docs/v1.3/user/registry/">Registry Center</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/v1.3/user/api">Api Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/v1.3/user/microservice">Microservice Framework Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/v1.3/user/ormframework">ORM Framework Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/v1.3/user/datasource">Data Source support</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/en/docs/v1.3/user/sqlreference/sql-restrictions">SQL Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/en/docs/v1.3/user/apm/skywalking">APM</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/en/docs/v1.3/user/performance">Testing Report</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/en/docs/v1.3/user/appendix/global-transaction-status">Appendix</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Developer Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/en/docs/v1.3/dev/mode/at-mode">Transaction Mode</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/en/docs/v1.3/dev/domain/overviewDomainModel">Domain Model</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/v1.3/dev/seata-mertics">Metrics Design</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Ops Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/v1.3/ops/upgrade">Version Upgrade Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/v1.3/ops/multi-configuration-isolation">Multi-configuration Isolation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/en/docs/v1.3/ops/deploy-guide-beginner">Deploy</a></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Seata<!-- --> <b>v1.3</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/en/docs/user/configurations">latest version</a></b> (<!-- -->v2.0<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">User Doc</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Seata Parameter Configuration</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v1.3</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>The Seata Parameter Configuration Version 1.6.0</h1><h3 class="anchor anchorWithStickyNavbar_LWe7" id="change-record">Change record<a href="#change-record" class="hash-link" aria-label="Direct link to Change record" title="Direct link to Change record">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20201216(1.6.0):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The change records of configuration items from 1.4.0 to 1.6.0 are no longer maintained in a centralized manner. Please check the changes of relevant versions separately according to the configuration items</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20200716(1.3.0):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1. Added the relevant configuration of store.redis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. The nacos registry configuration group item has been added, and the values of the Server and Client must be consistent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. Add the client.rm.sagaBranchRegisterEnable configuration item, which is false by default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20200421(1.2.0):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1. Add the registry.nacos.application attribute. The default value is seata server. The values on the server and client sides must be consistent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20200220(1.1.0):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1. The formats in the file.conf and registry.conf configuration files are uniformly converted to the hump format</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. Unify the default values of all configuration files (file.conf, registry.conf, seata spring boot starter)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. Optimize the configuration of transaction grouping and TC cluster in seata spring boot starter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4. Remove client.support.spring.datasource.autoproxy and add @ EnableAutoDataSourceProxy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5. Add server.rollbackRetryTimeoutUnlockEnable configuration item, which is false by default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6. Add the transport.shutdown.wait configuration item. The default is 3 seconds</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The annotation is used to enable the automatic proxy of the data source, and the proxy implementation method can be selected (see Appendix 5 for details)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20191221:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1. Add seata.enabled, client.report.success.enable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">transport.enable-client-batch-send-request、client.log.exceptionRate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="attention-attribute-see-all-attributes-for-detailed-description">Attention attribute (see all attributes for detailed description)<a href="#attention-attribute-see-all-attributes-for-detailed-description" class="hash-link" aria-label="Direct link to Attention attribute (see all attributes for detailed description)" title="Direct link to Attention attribute (see all attributes for detailed description)">​</a></h2><table><thead><tr><th>Server side</th><th>client side</th></tr></thead><tbody><tr><td>registry. type</td><td>registry.type</td></tr><tr><td>config. type</td><td>config.type</td></tr><tr><td>#store. Mode=db requires the following configuration</td><td>service.vgroupMapping.my<em> test</em> tx_ group</td></tr><tr><td>store.db. driverClassName</td><td>service.default. grouplist</td></tr><tr><td>store.db. url</td><td>service. disableGlobalTransaction</td></tr><tr><td>store.db. user</td><td></td></tr><tr><td>store.db. password</td><td></td></tr><tr><td>#store. Mode=Redis requires the following configurations</td><td></td></tr><tr><td>store.redis. host</td><td></td></tr><tr><td>store.redis. port</td><td></td></tr><tr><td>store.redis. database</td><td></td></tr><tr><td>store.redis. password</td><td></td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="all-attributes">All attributes<a href="#all-attributes" class="hash-link" aria-label="Direct link to All attributes" title="Direct link to All attributes">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="public-sector">Public sector<a href="#public-sector" class="hash-link" aria-label="Direct link to Public sector" title="Direct link to Public sector">​</a></h3><table><thead><tr><th>key</th><th>desc</th><th>remark</th><th>change record</th></tr></thead><tbody><tr><td>transport.type</td><td>Socket communication mode</td><td>TCP, UNIX<em> DOMAIN</em> SOCKET, default TCP</td><td></td></tr><tr><td>transport. server</td><td>socket channel type</td><td>NIO, NATIVE (select KQueue or Epoll according to the operating system type and socket communication mode. Note that Windows only supports NIO, and NATIVE mode will throw an exception)</td><td></td></tr><tr><td>transport. enableTmClientBatchSendRequest</td><td>TM Batch Send Request Message Switch</td><td>Default false</td><td>new in 1.5.1 version</td></tr><tr><td>transport. enableRmClientBatchSendRequest</td><td>RM Batch Send Request Message Switch</td><td>Default true</td><td>new in 1.5.1 version</td></tr><tr><td>transport. enableTcServerBatchSendResponse</td><td>TC Batch Send Reply Message Switch</td><td>Default false</td><td>new in 1.5.1 version</td></tr><tr><td>transport.rpcRmRequestTimeout</td><td>RM sending request timeout</td><td>30 seconds by default</td><td>new in 1.5.1 version</td></tr><tr><td>transport.rpcTmRequestTimeout</td><td>TM sending request timeout</td><td>30 seconds by default</td><td>new in 1.5.1 version</td></tr><tr><td>transport.rpcTcRequestTimeout</td><td>TC sending request timeout</td><td>30 seconds by default</td><td>new in 1.5.1 version</td></tr><tr><td>transport.threadFactory. bossThreadSize</td><td>Netty communication model Boss group threads</td><td>Default 1</td><td></td></tr><tr><td>transport.threadFactory. workerThreadSize</td><td>Netty communication model Worker group threads</td><td>The number of threads can be configured or the number of threads in a specific thread working mode can be selected. There are four default working modes of threads: Auto (2 <em> CPU cores+1), Pin (CPU cores, applicable to computing intensive tasks), BusyPin (CPU cores+1, applicable to computing intensive and memory limited scenarios) Default (2 </em> CPU cores, applicable to IO intensive tasks), the default value is Default mode</td><td></td></tr><tr><td>transport. shutdown. wait</td><td>Time to wait for service offline before the Netty thread pool on the server is closed</td><td>3 seconds by default</td><td></td></tr><tr><td>transport. serialization</td><td>Client and server communication codec method</td><td>data (ByteBuf), protobuf, kryo, session, fst, default data</td><td></td></tr><tr><td>transport.compressor</td><td>Compression method of communication data between client and server</td><td>none, gzip, zip, sevenz, bzip2, lz4, deflater, zstd, default none</td><td>Before 1.2.0: gzip<br>1.2.0: zip, sevenz, bzip2<br>1.3.0: lz4<br>1.4.1: deflater <br> 1.5.1: zstd</td></tr><tr><td>transport. heartbeat</td><td>The heartbeat detection switch for client server communication</td><td>The default value is true</td><td></td></tr><tr><td>Registry.type</td><td>Registry type</td><td>Default file, supports file, nacos, redis, eureka, zk, consumer, etcd3, sofa, and custom</td><td>1.6.0 Server supports simultaneous registration to multiple registries, separating registry names with commas</td></tr><tr><td>Config.type</td><td>Configuration center type</td><td>default file, supporting file, nacos, apollo, zk, consult, etcd3, springcloud, custom</td><td></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="server-side">Server side<a href="#server-side" class="hash-link" aria-label="Direct link to Server side" title="Direct link to Server side">​</a></h3><table><thead><tr><th>key</th><th>desc</th><th>remark</th><th>change record</th></tr></thead><tbody><tr><td>server.undo.logSaveDays</td><td>undo retention days</td><td>7 days by default, log_ Status=1 (Appendix 3) and undo not normally cleaned</td><td></td></tr><tr><td>server.undo.logDeletePeriod</td><td>undo Cleanup Thread Interval</td><td>86,400,000 by default, in milliseconds</td><td></td></tr><tr><td>server.maxCommitRetryTimeout</td><td>Timeout duration of two-phase commit retry</td><td>Unit: ms, s, m, h, d, corresponding to ms, s, min, h, day, default ms. The default value of - 1 means unlimited retries. Formula: timeout&gt;=now globalTransactionBeginTime, true means no more retries after timeout (Note: no retries will be made after the timeout is reached, and there is a risk of data inconsistency, unless the business can calibrate the data itself, otherwise use with caution)</td><td></td></tr><tr><td>server.maxRollbackRetryTimeout</td><td>Phase2 rollback retry timeout duration</td><td>Same as commit</td><td></td></tr><tr><td>server.recovery.committingRetryPeriod</td><td>Phase2 commit unfinished status Global transaction retry commit thread interval</td><td>1000 by default, in milliseconds</td><td></td></tr><tr><td>server.recovery.asyncCommittingRetryPeriod</td><td>Phase2 asynchronous submission status Retry submission thread interval</td><td>1000 by default, in milliseconds</td><td></td></tr><tr><td>server.recovery.rollbackRetryPeriod</td><td>Phase2 rollback status Retry rollback thread interval</td><td>1000 by default, in milliseconds</td><td></td></tr><tr><td>server.recovery.timeoutRetryPeriod</td><td>Timeout status detection retry thread interval</td><td>1000 by default, in milliseconds. If timeout is detected, put the global transaction into the rollback session manager</td><td></td></tr><tr><td>server.rollbackRetryTimeoutUnlockEnable</td><td>Whether to release the lock after the two-phase rollback timeout</td><td>False by default</td><td></td></tr><tr><td>server.distributedLockExpireTime</td><td>Server side transaction management global lock timeout</td><td>10000 by default, in milliseconds</td><td>new in 1.5.1 version</td></tr><tr><td>server.server.xaerNotaRetryTimeout</td><td>Retry timeout to prevent XA branch transactions from hanging</td><td>60000 by default, in milliseconds</td><td>new in 1.5.1 version</td></tr><tr><td>server.session.branchAsyncQueueSize</td><td>Branch transaction session asynchronously deletes the thread pool queue size</td><td>5000 by default</td><td>new in 1.5.1 version</td></tr><tr><td>server.session.enableBranchAsyncRemove</td><td>Asynchronous deletion switch of branch transaction session</td><td>Default false</td><td>new in 1.5.1 version</td></tr><tr><td>server.enableParallelRequestHandle</td><td>Parallel processing switch for batch request messages</td><td>Default false</td><td>new in 1.5.2 version</td></tr><tr><td>store.mode</td><td>Transaction session information storage mode</td><td>file Local file (HA is not supported), db database, redis (HA is supported)</td><td>The 1.5.1 version uses lock and session for separate storage</td></tr><tr><td>store.lock.mode</td><td>Transaction lock information storage method</td><td>file Local file (HA is not supported), db database, Redis (HA is supported); When the configuration is empty, take the store Mode configuration item value</td><td>New in 1.5.1 version, and session and lock can be stored separately</td></tr><tr><td>store.session.mode</td><td>Transaction echo information storage method</td><td>file Local file (HA is not supported), db database, Redis (HA is supported); When the configuration is empty, take the store Mode configuration item value</td><td>New in 1.5.1 version, and session and lock can be stored separately</td></tr><tr><td>store.publicKey</td><td>Public key for storing and decrypting passwords in db or Redis</td><td></td><td>supported in version 1.4.2</td></tr><tr><td>store.file.dir</td><td>file mode file storage folder name</td><td>default sessionStore</td><td></td></tr><tr><td>store.file.maxBranchSessionSize</td><td>File mode file storage branch session maximum bytes</td><td>16384 (16kb) by default, in bytes</td><td></td></tr><tr><td>store.file.maxGlobalSessionSize</td><td>File mode file stores the maximum number of global session bytes</td><td>512b by default, in bytes</td><td></td></tr><tr><td>store.file.fileWriteBufferCacheSize</td><td>File mode file storage buffer maximum cache size</td><td>16384 (16kb) by default, in bytes. When the amount of data such as session written is greater than this value, an exception will be thrown</td><td></td></tr><tr><td>store.file.flushDiskMode</td><td>file mode file storage flushing policy</td><td>default async, optional sync</td><td></td></tr><tr><td>store.file.sessionReloadReadSize</td><td>File mode File storage The maximum number of session or lock keys recovered from the backup file after the server node restarts</td><td>100 by default</td><td></td></tr><tr><td>store.db.datasource</td><td>db mode data source type</td><td>dbcp, druid, hikari; No default value, store Must be specified when mode=db</td><td></td></tr><tr><td>store.db.dbType</td><td>db mode database type</td><td>mysql, oracle, db2, sqlserver, sybaee, h2, sqlite, access, postgresql, oceanbase; No default value, store Mode=db must be specified</td><td></td></tr><tr><td>store.db.driverClassName</td><td>db mode database driver</td><td>store Must be specified when mode=db</td><td></td></tr><tr><td>store.db.url</td><td>db mode database url</td><td>store When mode=db, it must be specified. When using MySQL as the data source, it is recommended to add &#x27;rewriteBatchedStatements=true&#x27; to the connection parameters (see Appendix 7 for detailed reasons)</td><td></td></tr><tr><td>store.db.user</td><td>db mode database account</td><td>store Must be specified when mode=db</td><td></td></tr><tr><td>store.db.password</td><td>db mode database account password</td><td>store Must be specified when mode=db</td><td></td></tr><tr><td>store.db.minConn</td><td>initial connections of db mode database</td><td>1 by default</td><td></td></tr><tr><td>store.db.maxConn</td><td>maximum number of connections to database in db mode</td><td>20 by default</td><td></td></tr><tr><td>store.db.maxWait</td><td>the maximum waiting time for db mode to obtain a connection</td><td>5000 by default, in milliseconds</td><td></td></tr><tr><td>store.db.globalTable</td><td>db mode global transaction table name</td><td>default global_ table</td><td></td></tr><tr><td>store.db.branchTable</td><td>db mode branch transaction table name</td><td>default branch_ table</td><td></td></tr><tr><td>store.db.LockTable</td><td>db mode global lock table name</td><td>default lock_ table</td><td></td></tr><tr><td>store.db.queryLimit</td><td>the maximum number of global transactions queried in db mode at one time</td><td>100 by default</td><td></td></tr><tr><td>store.db.distributedLockTable</td><td>db mode Sever side transaction management global lock storage table name</td><td>default distributed_ Lock. Under multiple server clusters, only one server is guaranteed to handle the submission or rollback at the same time</td><td>New in 1.5.1</td></tr><tr><td>store.redis.mode</td><td>redis mode</td><td>default single, optional sentinel</td><td>New sentinel mode in 1.4.2</td></tr><tr><td>store.redis.single.host</td><td>The Redis host in stand-alone mode is compatible with versions earlier than 1.4.2. If this configuration is empty, select store.redis Host as a configuration item</td><td>New in 1.4.2</td><td></td></tr><tr><td>store.redis.single.port</td><td>The port of Redis in stand-alone mode is compatible with versions earlier than 1.4.2. If this configuration is empty, select store.redis Port as a configuration item</td><td>New in 1.4.2</td><td></td></tr><tr><td>store.redis.sentinel.masterName</td><td>Redis master database name in sentinel mode</td><td></td><td>New in 1.4.2</td></tr><tr><td>store.redis.sentinel.sentinelHosts</td><td>sentinel hosts in sentinel mode</td><td>Multiple hosts are separated by commas</td><td>New in 1.4.2</td></tr><tr><td>store.redis.host</td><td>redis mode IP</td><td>Default 127.0.0.1</td><td>Version 1.4.2 deprecated</td></tr><tr><td>store.redis.port</td><td>redis mode port</td><td>6379 by default</td><td>Version 1.4.2 is deprecated</td></tr><tr><td>store.redis.maxConn</td><td>maximum connections in Redis mode</td><td>10 by default</td><td></td></tr><tr><td>store.redis.minConn</td><td>minimum connections in Redis mode</td><td>1 by default</td><td></td></tr><tr><td>store.redis.database</td><td>redis mode default library</td><td>default 0</td><td></td></tr><tr><td>store.redis.password</td><td>redis mode password (optional)</td><td>null by default</td><td></td></tr><tr><td>store.redis.queryLimit</td><td>The maximum number of Redis queries at a time</td><td>100 by default</td><td></td></tr><tr><td>metrics.enabled</td><td>Whether to enable Metrics</td><td>False is off by default. In the false state, all Metrics related components will not be initialized to minimize the performance loss</td><td></td></tr><tr><td>metrics.registryType</td><td>Indicator registrar type</td><td>The indicator registrar type used by Metrics is a built-in compact (simple) implementation by default. Meters in this implementation only use a limited memory count, and the performance is high enough to meet most scenarios; Currently, only one indicator registrar can be set</td><td></td></tr><tr><td>metrics.exporterList</td><td>Index result Measurement data outputter list</td><td>default prometheus. Multiple outputters are separated by English commas, such as &quot;prometheus, jmx&quot;. Currently, only the prometheus outputters are connected</td><td></td></tr><tr><td>metrics.exporterPrometheusPort</td><td>prometheus exporter client port number</td><td>9898 by default</td><td></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="client-side">Client side<a href="#client-side" class="hash-link" aria-label="Direct link to Client side" title="Direct link to Client side">​</a></h3><table><thead><tr><th>key</th><th>desc</th><th>remark</th><th>change record</th></tr></thead><tbody><tr><td>seata.enabled</td><td>whether to enable spring boot automatic assembly</td><td>true, false, (SSBS) special configuration, default true (Appendix 4)</td><td></td></tr><tr><td>seata.enableAutoDataSourceProxy=true</td><td>whether to enable automatic proxy of data source</td><td>True, false, data spring boot starter (SSBS) is a special configuration. SSBS will enable automatic proxy of data source by default and can be closed through this configuration item</td><td></td></tr><tr><td>seata.useJdkProxy=false</td><td>whether to use JDK proxy as the implementation method of data source automatic proxy</td><td>true, false, (SSBS) proprietary configuration, false by default, CGLIB as the implementation method of data source automatic proxy</td><td></td></tr><tr><td>transport.enableClientBatchSendRequest</td><td>whether to batch merge and send client transaction message requests</td><td>The default is true and false</td><td></td></tr><tr><td>client.log.exceptionRate</td><td>log exception output probability</td><td>100 by default, currently used for exception stack output in case of undo rollback failure, 1% probability output, rollback failure is basically dirty data, no need to output stack to occupy hard disk space</td><td></td></tr><tr><td>service.vgroupMapping.my_test_tx_Group</td><td>transaction group (Appendix 1)</td><td>my<em> test</em> tx_ Group refers to grouping, and the configuration item value is TC cluster name</td><td></td></tr><tr><td>service.default.grouplist</td><td>TC service list (Appendix 2)</td><td>Only used when the registry is file</td><td></td></tr><tr><td>service.disableGlobalTransaction</td><td>global transaction switch</td><td>False by default. false is on, true is off</td><td></td></tr><tr><td>client.tm.downgradeCheck</td><td>demote switch</td><td>False by default. The business side automatically downgrades the seata transaction based on the number of consecutive errors (see Appendix 6 for details)</td><td></td></tr><tr><td>client.tm.gradeCheckAllowTimes</td><td>threshold value for reaching the standard of promotion and demotion</td><td>10 by default</td><td></td></tr><tr><td>client.tm.downgradeCheckPeriod</td><td>service self check cycle</td><td>2000 by default, in ms Conduct a service self check every 2 seconds to decide</td><td></td></tr><tr><td>client.rm.reportSuccessEnable</td><td>whether to report phase I success</td><td>True, false, starting from version 1.1.0. The default is false true is used to keep the life cycle records of branch transactions complete. false can improve performance</td><td></td></tr><tr><td>client.rm.asyncCommitBufferLimit</td><td>asynchronous commit cache queue length</td><td>10000 by default. Phase II commit succeeded. RM asynchronously cleans the undo queue</td><td></td></tr><tr><td>client.rm.lock.retryInterval</td><td>retry interval for verifying or occupying the global lock</td><td>10 by default, in milliseconds</td><td></td></tr><tr><td>client.rm.lock.retryTimes</td><td>number of retries to verify or occupy the global lock</td><td>30 by default</td><td></td></tr><tr><td>client.rm.lock.retryPolicyBranchRollbackOnConflict</td><td>the lock policy when a branch transaction conflicts with other global rollback transactions</td><td>The default is true. Release the local lock first to allow rollback to succeed</td><td></td></tr><tr><td>client.rm.reportRetryCount</td><td>the number of TC retries for reporting the results in the first phase</td><td>5 by default</td><td>New in 1.4.1</td></tr><tr><td>client.rm.tableMetaCheckEnable</td><td>automatically refresh the table structure in the cache</td><td>Default false</td><td>New in 1.5.1</td></tr><tr><td>client.rm.tableMetaCheckerInterval</td><td>interval between scheduled refreshing of table structures in cache</td><td>60 seconds by default</td><td></td></tr><tr><td>client.rm.sagaBranchRegisterEnable</td><td>whether to enable saga branch registration</td><td>In Saga mode, the branch state is stored in the local database of the state machine and can be submitted or rolled back through the state machine. To improve performance, you can consider not registering Saga branches with the TC, but you need to consider the availability of the state machine. The default is false</td><td></td></tr><tr><td>client.rm.sagaJsonParser</td><td>data serialization method in saga mode</td><td>Fastjson by default, jackson by choice</td><td>New in 1.5.1</td></tr><tr><td>client.rm.tccActionInterceptorOrder</td><td>tcc interceptor order</td><td>default Ordered HIGHEST_ PRECEDENCE+1000 ensures that the interceptor is executed before the local transaction interceptor. You can also customize the execution order of the interceptor for tcc and business development</td><td>New in 1.5.1</td></tr><tr><td>client.tm.commitRetryCount</td><td>the number of TC retries for reporting the results of the first phase global submission</td><td>1 by default, it is recommended to be greater than 1</td><td></td></tr><tr><td>client.tm.rollbackRetryCount</td><td>the number of TC retries reported for the global rollback results in the first phase</td><td>1 by default, it is recommended to be greater than 1</td><td></td></tr><tr><td>client.tm.defaultGlobalTransactionTimeout</td><td>global transaction timeout</td><td>The default is 60 seconds. After TM detects a branch transaction timeout or TC detects that TM has not made a two-phase report timeout, it initiates a rollback of the branch transaction</td><td>New in 1.4.0</td></tr><tr><td>client.tm.interceptorOrder</td><td>TM global transaction interceptor order</td><td>Ordered by default HIGHEST_ PRECEDENCE+1000 ensures that the interceptor is executed before the local transaction interceptor. You can also customize the execution order of the interceptor for global transactions and business development</td><td>New in 1.5.1</td></tr><tr><td>client.undo.dataValidation</td><td>Phase2 rollback image verification</td><td>By default, true is enabled and false is disabled</td><td></td></tr><tr><td>client.undo.logSerialization</td><td>undo serialization method</td><td>default jackson</td><td></td></tr><tr><td>client.undo.logTable</td><td>user defined undo table name</td><td>Default undo_ log</td><td></td></tr><tr><td>client.undo.onlyCareUpdateColumns</td><td>only images of updated columns are generated</td><td>Default true</td><td></td></tr><tr><td>client.undo.compress.enable</td><td>undo log compression switch</td><td>default true</td><td>New in 1.4.1</td></tr><tr><td>client.undo.compress.type</td><td>undo log compression algorithm</td><td>Default zip. Options include NONE, GZIP, ZIP, SEVENZ, BZIP2, LZ4, DEFLATER, and ZSTD</td><td>New in 1.4.1</td></tr><tr><td>client.undo.compress.threshold</td><td>undo log compression threshold</td><td>The default value is 64k. Compression occurs when the compression switch is on and the undo log size exceeds the threshold value</td><td>New in 1.4.1</td></tr><tr><td>client.rm.sqlParserType</td><td>sql resolution type</td><td>default druid, optional antlr</td><td></td></tr></tbody></table><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><mark>synchronize parameters to the configuration center for use demo</mark></summary><div><div class="collapsibleContent_i85q"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nacos">Nacos<a href="#nacos" class="hash-link" aria-label="Direct link to Nacos" title="Direct link to Nacos">​</a></h4><p>shell:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sh</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">${SEATAPATH}</span><span class="token plain">/script/config-center/nacos/nacos-config.sh -h localhost -p </span><span class="token number" style="color:#36acaa">8848</span><span class="token plain"> -g SEATA_GROUP -t 5a3c7d6c-f497-4d68-a71a-2e5e3340b3ca</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Parameter description:</p><p>-h: Host, the default is localhost</p><p>-p: Port, default 8848</p><p>-g: Configure grouping. The default value is&#x27; SEATA_ GROUP&#x27;</p><p>-t: Tenant information, corresponding to the namespace ID field of Nacos, the default value is null &#x27;&#x27;</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="apollo">Apollo<a href="#apollo" class="hash-link" aria-label="Direct link to Apollo" title="Direct link to Apollo">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sh</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">${SEATAPATH}</span><span class="token plain">/script/config-center/apollo/apollo-config.sh -h localhost -p </span><span class="token number" style="color:#36acaa">8070</span><span class="token plain"> -e DEV -a seata-server -c default -n application -d apollo -r apollo -t 3aa026fc8435d0fc4505b345b8fa4578fb646a2c</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Parameter description:</p><p>-h: Host, the default is localhost</p><p>-p: Port, the default value is 8070</p><p>-e: Managed configuration environment, default value DEV</p><p>-a: AppId of the Namespace. The default value is seata server</p><p>-c: The name of the managed configuration cluster is generally passed in as default. If it is a special cluster, just pass in the name of the corresponding cluster. The default value is default</p><p>-n: The name of the namespace under management. If it is not in the properties format, it needs to add a suffix, such as sample.yml. The default value is application</p><p>-d: The creator of the item, in the format of domain account, that is, the user ID of the sso system</p><p>-r: Publisher, domain account. Note: If the namespace. lock. switch in Apollo ConfigDB. ServerConfig is set to true (false by default), the environment does not allow the publisher and editor to be the same person. So if the editor is zhangsan, the publisher can no longer be zhangsan.</p><p>-t: The Apollo administrator creates a third-party application at http://{portal_address}/open/manage.html. Before creating it, it is better to query whether the AppId has been created. After successful creation, a token will be generated</p><p>For details of the above parameters, see:</p><p><a href="https://github.com/ctripcorp/apollo/wiki/Apollo%E5%BC%80%E6%94%BE%E5%B9%B3%E5%8F%B0" target="_blank" rel="noopener noreferrer">https://github.com/ctripcorp/apollo/wiki/Apollo%E5%BC%80%E6%94%BE%E5%B9%B3%E5%8F%B0</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="consul">Consul<a href="#consul" class="hash-link" aria-label="Direct link to Consul" title="Direct link to Consul">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sh</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">${SEATAPATH}</span><span class="token plain">/script/config-center/consul/consul-config.sh -h localhost -p </span><span class="token number" style="color:#36acaa">8500</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Parameter description:</p><p>-h: host, the default is localhost</p><p>-p: port, the default value is 8500</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="etcd3">Etcd3<a href="#etcd3" class="hash-link" aria-label="Direct link to Etcd3" title="Direct link to Etcd3">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sh</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">${SEATAPATH}</span><span class="token plain">/script/config-center/etcd3/etcd3-config.sh -h localhost -p </span><span class="token number" style="color:#36acaa">2379</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Parameter description:</p><p>-h: Host, the default is localhost</p><p>-p: Port, the default value is 2379</p><p>python:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python </span><span class="token variable" style="color:#36acaa">${SEATAPATH}</span><span class="token plain">/script/config-center/nacos/nacos-config.py localhost:8848</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="zk">ZK<a href="#zk" class="hash-link" aria-label="Direct link to ZK" title="Direct link to ZK">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sh</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">${SEATAPATH}</span><span class="token plain">/script/config-center/zk/zk-config.sh -h localhost -p </span><span class="token number" style="color:#36acaa">2181</span><span class="token plain"> -z </span><span class="token string" style="color:#e3116c">&quot;/Users/zhangchenghui/zookeeper-3.4.14&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Parameter description:</p><p>-h: host, the default is localhost</p><p>-p: port, the default value is 2181</p><p>-z: zk path</p></div></div></details><h3 class="anchor anchorWithStickyNavbar_LWe7" id="appendix-1">Appendix 1:<a href="#appendix-1" class="hash-link" aria-label="Direct link to Appendix 1:" title="Direct link to Appendix 1:">​</a></h3><p>Description of transaction grouping.</p><ol><li>What is a transaction group?</li></ol><p>Transaction grouping is the resource logic of seata, similar to service instance. My in file.conf<em> test</em> tx_ A group is a transaction group.</p><ol start="2"><li>How to find the back-end cluster through transaction grouping?</li></ol><p>First, the program configures transaction grouping (txServiceGroup parameter of GlobalTransactionScanner construction method). The program will search for service.vgroupMapping through the user configured configuration center</p><p>Transaction grouping configuration item. The value of the configuration item obtained is the name of the TC cluster. The program that obtains the cluster name constructs the service name through a certain prefix+cluster name. The service name of each configuration center is different. Get the service name, go to the corresponding registry, pull the service list of the corresponding service name, and get the real TC service list of the back-end.</p><ol start="3"><li>Why is the design so that the service name is not directly taken?</li></ol><p>There is an additional layer to obtain the configuration of transaction groups to the mapping cluster. After this design, the transaction group can be used as the logical isolation unit of resources, which can quickly fail over when a failure occurs.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="appendix-2">Appendix 2:<a href="#appendix-2" class="hash-link" aria-label="Direct link to Appendix 2:" title="Direct link to Appendix 2:">​</a></h3><p>About the grouplist question.</p><ol><li>When will the default.grouplist in file.conf be used?</li></ol><p>It is used when registry. type=file. It is not read in other times.</p><ol start="2"><li>Can multiple value lists be configured for default.grouplist?</li></ol><p>Multiple can be configured, which means cluster, but when store When mode=file, an error will be reported. The reason is that the file storage mode does not provide synchronization of local files, so you need to use store. mode=db to share data between TC clusters through db</p><ol start="3"><li>Is default.grouplist recommended?</li></ol><p>Not recommended. For example, question 1, when registering It is used when type=file, which means that the real registry is not used here, and the health check mechanism without specific services cannot automatically remove the list when the tc is unavailable. It is recommended to use nacos, eureka, redis, zk, consumer, etcd3, and sofa. Registry. type=file or config The original purpose of type=file design is to enable users to quickly verify the seata service through direct connection without relying on a third-party registry or configuration center.</p><ol start="4"><li>Why is the configuration in seata spring boot starter grouplist.default, that is, the default in file.conf Is the writing of grouplist just reversed?</li></ol><p>Due to the syntax requirements of the spring boot configuration file itself, the default.grouplist in file.conf needs to be written as grouplist.default in this place. The effect is the same</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="appendix-3">Appendix 3:<a href="#appendix-3" class="hash-link" aria-label="Direct link to Appendix 3:" title="Direct link to Appendix 3:">​</a></h3><p>log_ Status=1 is defensive. It is a global rollback request received, but it is uncertain whether the local transaction of a transaction branch has been executed. At this time, a piece of data with the same branch ID is inserted in advance, and the inserted false data is successful. If the local transaction continues to execute, the only index conflict will be reported for automatic rollback.</p><p>If the insertion is unsuccessful, it indicates that the local transaction has been completed, and the undo data is taken out for reverse rollback.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="appendix-4">Appendix 4:<a href="#appendix-4" class="hash-link" aria-label="Direct link to Appendix 4:" title="Direct link to Appendix 4:">​</a></h3><p>Whether to enable spring boot automatic assembly. If it is enabled, the integration of seata and spring boot will be automatically configured, including the automatic proxy of data source and initialization of GlobalTransactionScanner.</p><p>Note: New features of version 1.0 need to rely on seata spring boot starter.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="appendix-5">Appendix 5:<a href="#appendix-5" class="hash-link" aria-label="Direct link to Appendix 5:" title="Direct link to Appendix 5:">​</a></h3><p>The following annotations have been added to seata 1.1.0 to enable the automatic proxy function of data sources</p><p>@EnableAutoDataSourceProxy</p><table><thead><tr><th>attribute</th><th>desc</th><th>remark</th></tr></thead></table><p>|UseJdkProxy | Whether to use JDK proxy as the implementation method of data source automatic proxy | false, true, false by default, CGLIB as the implementation method of data source automatic proxy|</p><ol><li>For the method of using seata spring boot starter, the data source automatic proxy is enabled by default. If you need to close it, please configure seata. enableAutoDataSourceProxy=false, which is true by default.</li></ol><p>To switch the proxy implementation mode, please click seata UseJdkProxy=false. The default value is false. CGLIB is used as the implementation method of automatic proxy for data sources.</p><ol start="2"><li>For the method of using seata all, please use @ EnableAutoDataSourceProxy to explicitly enable the automatic proxy function of the data source. If necessary, you can use the useJdkProxy attribute of the annotation to implement the proxy</li></ol><p>Switch of. The default value is false. CGLIB is used as the implementation method of automatic proxy for data sources.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="appendix-6">Appendix 6:<a href="#appendix-6" class="hash-link" aria-label="Direct link to Appendix 6:" title="Direct link to Appendix 6:">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Introduction to the implementation of automatic service degradation policy:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">First, decide whether to start the self-test thread by reading whether client.tm.degradeCheck is true. Then read degradeCheckAllowTimes and degradeCheckPeriod to confirm the threshold value and self-test cycle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Assume that degradeCheckAllowTimes=10, and degradeCheckPeriod=2000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Then a start and commit test will be performed every 2 seconds. If it fails, the number of consecutive failures will be recorded. If it succeeds, the number of consecutive failures will be cleared The continuous errors are accumulated by the user interface and the self checking thread until the number of continuous failures reaches the user&#x27;s threshold, then the Seata distributed transaction is closed to avoid the user&#x27;s own business being unavailable for a long time</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">On the contrary, if the current distributed transaction is closed, the self-test thread will continue to perform the self-test every 2 seconds until the number of consecutive successes reaches the threshold set by the user, then the Seata distributed transaction will be restored to use</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="appendix-7">Appendix 7:<a href="#appendix-7" class="hash-link" aria-label="Direct link to Appendix 7:" title="Direct link to Appendix 7:">​</a></h3><p>In the store mode=db. Because seata inserts global locks in batches through the executeBatch of jdbc, according to the MySQL official website, when the rewriteBatchedStatements in the connection parameter is true, when executeBatch is executed and the operation type is insert, the jdbc driver will optimize the corresponding SQL to the form of &#x27;insert into () values (), ()&#x27; to improve the performance of batch insert.</p><p>According to the actual test, when this parameter is set to true, the corresponding batch insert performance is more than 10 times of the original. Therefore, it is recommended to set this parameter to true when the data source is MySQL.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/en/docs/v1.3/user/quickstart"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Quick Start</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/en/docs/v1.3/user/txgroup/transaction-group"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Transaction Group Introduction</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#change-record" class="table-of-contents__link toc-highlight">Change record</a></li><li><a href="#attention-attribute-see-all-attributes-for-detailed-description" class="table-of-contents__link toc-highlight">Attention attribute (see all attributes for detailed description)</a></li><li><a href="#all-attributes" class="table-of-contents__link toc-highlight">All attributes</a><ul><li><a href="#public-sector" class="table-of-contents__link toc-highlight">Public sector</a></li><li><a href="#server-side" class="table-of-contents__link toc-highlight">Server side</a></li><li><a href="#client-side" class="table-of-contents__link toc-highlight">Client side</a></li><li><a href="#appendix-1" class="table-of-contents__link toc-highlight">Appendix 1:</a></li><li><a href="#appendix-2" class="table-of-contents__link toc-highlight">Appendix 2:</a></li><li><a href="#appendix-3" class="table-of-contents__link toc-highlight">Appendix 3:</a></li><li><a href="#appendix-4" class="table-of-contents__link toc-highlight">Appendix 4:</a></li><li><a href="#appendix-5" class="table-of-contents__link toc-highlight">Appendix 5:</a></li><li><a href="#appendix-6" class="table-of-contents__link toc-highlight">Appendix 6:</a></li><li><a href="#appendix-7" class="table-of-contents__link toc-highlight">Appendix 7:</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/en/assets/js/runtime~main.a46eb36c.js"></script>
<script src="/en/assets/js/main.abe8d3c8.js"></script>
</body>
</html>
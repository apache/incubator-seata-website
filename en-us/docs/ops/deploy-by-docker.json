{
  "filename": "deploy-by-docker.md",
  "__html": "<h1>Deploy Seata Server By Docker</h1>\n<h2>Quick Start</h2>\n<h4>Start a seata-server instance</h4>\n<pre><code class=\"language-bash\">$ docker run --name seata-server -p 8091:8091 seataio/seata-server:latest\n</code></pre>\n<h4>Specify server IP and port</h4>\n<pre><code class=\"language-bash\">$ docker run --name seata-server \\\n        -p 8091:8091 \\\n        -e SEATA_IP=192.168.1.1 \\\n        -e SEATA_PORT=8091 \\\n        seataio/seata-server\n</code></pre>\n<h4>Docker compose</h4>\n<p>Example of <code>docker-compose.yaml</code></p>\n<pre><code class=\"language-yaml\"><span class=\"hljs-attr\">version:</span> <span class=\"hljs-string\">\"3\"</span>\n<span class=\"hljs-attr\">services:</span>\n<span class=\"hljs-attr\">  seata-server:</span>\n<span class=\"hljs-attr\">    image:</span> <span class=\"hljs-string\">seataio/seata-server</span>\n<span class=\"hljs-attr\">    hostname:</span> <span class=\"hljs-string\">seata-server</span>\n<span class=\"hljs-attr\">    ports:</span>\n<span class=\"hljs-bullet\">      -</span> <span class=\"hljs-string\">\"8091:8091\"</span>\n<span class=\"hljs-attr\">    environment:</span>\n<span class=\"hljs-bullet\">      -</span> <span class=\"hljs-string\">SEATA_PORT=8091</span>\n<span class=\"hljs-bullet\">      -</span> <span class=\"hljs-string\">STORE_MODE=file</span>\n</code></pre>\n<h2>Access container and view log</h2>\n<pre><code class=\"language-bash\">$ docker <span class=\"hljs-built_in\">exec</span> -it seata-server sh\n</code></pre>\n<pre><code class=\"language-bash\">$ docker logs -f seata-server\n</code></pre>\n<h2>Using custom configuration file</h2>\n<p>Custom configuration implement by mount <code>registry.conf</code> and <code>file.conf</code> to container.</p>\n<ul>\n<li>Specify registry.conf</li>\n</ul>\n<p>The environment variable<code>SEATA_CONFIG_NAME</code> is required when use a custom configuration , and the value must be started with <code>file:</code> like <code>file:/root/seata-config/registry</code>:</p>\n<pre><code class=\"language-bash\">$ docker run --name seata-server \\\n        -p 8091:8091 \\\n        -e SEATA_CONFIG_NAME=file:/root/seata-config/registry \\\n        -v /User/seata/config:/root/seata-config  \\\n        seataio/seata-server\n</code></pre>\n<p>The param <code>-e</code> specify environment, and the param <code>-v</code> specify mount volume.</p>\n<ul>\n<li>Specify file.conf</li>\n</ul>\n<p>If you need specify <code>file.conf</code>, just modify <code>config</code> like below in <code>registry.conf</code> file:</p>\n<pre><code>config {\n  type = &quot;file&quot;\n\n  file {\n    name = &quot;file:/root/seata-config/file.conf&quot;\n  }\n}\n</code></pre>\n<h2>Environment Variables</h2>\n<p>You can modify configuration of seata-server  by the environment variables like this:</p>\n<ul>\n<li><strong>SEATA_IP</strong></li>\n</ul>\n<blockquote>\n<p>The variable is optional,  specifies registry IP instead of the container IP in registry center like eureka or others.</p>\n</blockquote>\n<ul>\n<li><strong>SEATA_PORT</strong></li>\n</ul>\n<blockquote>\n<p>The variable is optional, specifies seata-server port, default is <code>8091</code></p>\n</blockquote>\n<ul>\n<li><strong>STORE_MODE</strong></li>\n</ul>\n<blockquote>\n<p>The variable is optional, specifies the log store mode of seata-server,  support <code>db</code> and <code>file</code>, default is <code>file</code>.</p>\n</blockquote>\n<ul>\n<li><strong>SERVER_NODE</strong></li>\n</ul>\n<blockquote>\n<p>The variable is optional, specifies  the seata-server node ID, like <code>1</code>,<code>2</code>,<code>3</code>..., default is <code>1</code></p>\n</blockquote>\n<ul>\n<li><strong>SEATA_ENV</strong></li>\n</ul>\n<blockquote>\n<p>The variable is optional, specifies the seata-server environment, like <code>dev</code>, <code>test</code> etc. Then server will find file like <code>registry-dev.conf</code> under the configuration path when start.</p>\n</blockquote>\n<ul>\n<li><strong>SEATA_CONFIG_NAME</strong></li>\n</ul>\n<blockquote>\n<p>The variable is optional, specifies the configuration file path, like the <code>file:/root/registry</code>, will load file<code>/root/registry.conf</code> as configuration. If need specify <code>file.conf</code> configurationï¼Œthe <code>config.file.name</code> value in <code>registry.conf</code> file need to change as related config, like <code>file:/root/file.conf</code></p>\n</blockquote>\n",
  "link": "/en-us/docs/ops/deploy-by-docker.html",
  "meta": {
    "hidden": "true",
    "title": "Deploy Seata Server By Docker",
    "keywords": "docker",
    "description": "Deploy Seata Server By Docker",
    "author": "helloworlde",
    "date": "2019-11-25"
  }
}
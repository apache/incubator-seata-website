<!doctype html>
<html lang="en-US" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-user/configurations100">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">configurations100 | Seata</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://seata.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://seata.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://seata.io/docs/user/configurations100"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="configurations100 | Seata"><meta data-rh="true" name="description" content="View versions before 0.9.0.1"><meta data-rh="true" property="og:description" content="View versions before 0.9.0.1"><meta data-rh="true" name="keywords" content="Seata"><link data-rh="true" rel="icon" href="/img/seata_logo_small.jpeg"><link data-rh="true" rel="canonical" href="https://seata.io/docs/user/configurations100"><link data-rh="true" rel="alternate" href="https://seata.io/docs/user/configurations100" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://seata.io/zh-cn/docs/user/configurations100" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://seata.io/docs/user/configurations100" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Seata RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Seata Atom Feed">




<link rel="stylesheet" href="//g.alicdn.com/mamba/assets/0.0.19/mse-arc-ui.min.css">
<script src="//g.alicdn.com/mamba/assets/0.0.19/mse-arc-ui.min.js"></script>
<script src="//g.alicdn.com/alilog/mlog/aplus_v2.js" id="beacon-aplus" exparams="clog=o&amp;aplus&amp;sidx=aplusSidx&amp;ckx=aplusCkx"></script>
<script src="//g.alicdn.com/aes/??tracker/1.0.34/index.js,tracker-plugin-pv/2.4.5/index.js,tracker-plugin-event/1.2.5/index.js,tracker-plugin-jserror/1.0.13/index.js,tracker-plugin-api/1.1.14/index.js,tracker-plugin-perf/1.1.8/index.js,tracker-plugin-eventTiming/1.0.4/index.js"></script>
<script src="https://www.googletagmanager.com/gtag/js?id=G-YHS75WKFBR" async></script><link rel="stylesheet" href="/assets/css/styles.0380c488.css">
<link rel="preload" href="/assets/js/runtime~main.b984d76c.js" as="script">
<link rel="preload" href="/assets/js/main.b5f6ea4a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/seata_logo.png" alt="Seata Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/seata_logo.png" alt="Seata Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/">Home</a><a class="navbar__item navbar__link" href="/docs/overview/what-is-seata">Docs</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Solutions</a><ul class="dropdown__menu"><li><a href="https://www.aliyun.com/product/aliware/mse?spm=seata-website.topbar.0.0.0" target="_blank" rel="noopener noreferrer" class="dropdown__link">Seata in Cloud<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://help.aliyun.com/document_detail/132903.html?spm=seata-website.topbar.0.0.0" target="_blank" rel="noopener noreferrer" class="dropdown__link">SOFA distributed transaction<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://free.aliyun.com/?searchKey=nacos&amp;spm=seata-website.topbar.0.0.0" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Free trial<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a class="navbar__item navbar__link" href="/docs/developers/developers_dev">Developers</a><a href="https://mp.weixin.qq.com/s/nvDmIJEuDaNEY3RfTA3UyA" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Recruitment</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/community">Community</a><a class="navbar__item navbar__link" href="/docs/download">Download</a><a href="http://demo.seata.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Console sample</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>En</a><ul class="dropdown__menu"><li><a href="/docs/user/configurations100" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en-US">En</a></li><li><a href="/zh-cn/docs/user/configurations100" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-CN">中</a></li></ul></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>configurations100</h1></header><p>#The seata parameter configuration version 1.0.0</p><a href="/docs/user/configurations090">View versions before 0.9.0.1</a><p>###Change record</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20191221: Added seata. enabled, client. report. success. enable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">transport.enable-client-batch-send-request、client.log.exceptionRate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>##Attention attribute (see all attributes for detailed description)</p><table><thead><tr><th>server side</th><th>client side</th></tr></thead><tbody><tr><td>registry.type</td><td>registry.type</td></tr><tr><td>config.type</td><td>config.type</td></tr><tr><td>store.mode</td><td>service.vgroup_mapping.my_test_tx_group</td></tr><tr><td>store.db.driver-class-name</td><td>service.default.grouplist</td></tr><tr><td>store.db.url</td><td>service.disableGlobalTransaction</td></tr><tr><td>store.db.user</td><td>client.support.spring.datasource.autoproxy</td></tr><tr><td>store.db.password</td><td></td></tr></tbody></table><p>##All attributes</p><p>###Public sector</p><p>| key | desc | remark|</p><p>|---------------|--------------|----|</p><p>| transport.serialization | client and server communication codec method | seata (ByteBuf), protobuf, kryo, mission, default seata|</p><p>| transport.compressor | compression method of communication data between client and server | none, gzip, default: none|</p><p>| transport.heartbeat | the heartbeat detection switch for communication between client and server | True is enabled by default|</p><p>| registry.type | registry type | default file, supporting file, nacos, eureka, redis, zk, consumer, etcd3, sofa, and custom|</p><p>| config.type | configuration center type | Default file, supporting file, nacos, apollo, zk, consult, etcd3, and custom|</p><p>###Server side</p><p>| key| desc | remark|</p><p>|-------------------------------------------|---------------------------------|----------------------------|</p><p>| server.undo.log.save.days | undo retention days | 7 days by default, log_ Status=1 (Appendix 3) and undo not normally cleaned|</p><p>| server.undo.log.delete.period | undo Cleanup thread interval | 86400000 by default, in milliseconds|</p><p>| server.max.commit.retry.timeout | Timeout duration of two-phase commit retry | Unit: ms, s, m, h, d, corresponding to ms, s, min, h, d, and the default is ms. The default value of - 1 means unlimited retries. Formula: timeout&gt;=now globalTransactionBeginTime, true means no retry if timeout occurs|</p><p>| server.max.rollback.retry.timeout | Timeout duration of two-phase rollback retry | Same as commit|</p><p>| server.recovery.committing-retry-period | Phase2 commit unfinished status Global transaction retry commit thread interval | 1000 by default, in milliseconds|</p><p>| server.recovery.async-committing-retry-period | Phase2 asynchronous submission status Retry submission thread interval | 1000 by default, in milliseconds|</p><p>| server.recovery.rollback-retry-period | Phase2 rollback status retry rollbacking thread interval | 1000 by default, in milliseconds|</p><p>| server.recovery.timeout-retry-period | Timeout status detection Retry thread interval | 1000 by default, in milliseconds. If timeout is detected, put the global transaction into the rollback session manager|</p><p>| store.mode | Transaction session information storage mode | file Local file (HA is not supported), db database (HA is supported)|</p><p>| store.file.dir | file mode file storage folder name | default sessionStore|</p><p>| store.db.datasource | db mode data source type | default dbcp|</p><p>| store.db.db-type | db mode database type | default mysql|</p><p>| store.db.driver-class-name | db mode database driver | default com.mysql.jdbc Driver |</p><p>| store.db.url | db mode database url | default jdbc: mysql://127.0.0.1:3306/seata |</p><p>| store.db.user | db mode database account | default MySQL|</p><p>| store.db.password | db mode database account password | default MySQL|</p><p>| store.db.min-conn | The number of initial connections to the database in db mode | 1 by default|</p><p>| store.db.max-conn | maximum number of connections to database in db mode | 3 by default|</p><p>| store.db.global.table | db mode global transaction table name | default global_ table |</p><p>| store.db.branch.table | db mode branch transaction table name | default branch_ table |</p><p>| store.db.lock-table | db mode global lock table name | default lock_ table |</p><p>| store.db.query-limit | The maximum number of global transactions queried in db mode | 100 by default|</p><p>| metrics.enabled | whether to enable Metrics | False is off by default. In the false state, all Metrics related components will not be initialized to minimize the performance loss|</p><p>| metrics.registry-type | indicator registrar type | The indicator registrar type used by Metrics is a built-in compact (simple) implementation by default. Meters in this implementation only use limited memory counts, and the performance is high enough to meet most scenarios; Currently, only one indicator registrar can be set|</p><p>| metrics.exporter-list | indicator result Measurement data outputter list | default prometheus. Multiple outputters are separated by English commas, such as &quot;prometheus, jmx&quot;. Currently, only the prometheus outputters are connected|</p><p>| metrics.exporter-prometheus-port | prometheus exporter client port number | 9898 by default|</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="client端">client端<a href="#client端" class="hash-link" aria-label="Direct link to client端" title="Direct link to client端">​</a></h3><table><thead><tr><th>key</th><th>desc</th><th>remark</th></tr></thead><tbody><tr><td>seata.enabled</td><td>whether to enable spring boot automatic assembly</td><td>true、false，default true（appendix 4）</td></tr><tr><td>client.report.success.enable</td><td>whether to report success in the first phase</td><td>true, false, default true is used to keep the branch transaction lifecycle records complete, false can improve performance</td></tr></tbody></table><p>| transport.enable-client-batch-send-request<br>
<!-- -->| client.log.exceptionRate                         |whether to batch merge and send the client transaction message requests | The default is true and false|
| service.vgroup<em>mapping.my_test_tx_group<br>| service.default.grouplist                        |log exception output probability | 100 by default, currently used for exception stack output when undo rollback fails, 1% probability output, rollback failure is basically dirty data, and the output stack does not need to occupy hard disk space|
| service.disableGlobalTransaction<br>| service.enableDegrade                            |transaction Group (Appendix 1) | my</em> test<em> tx</em> Group refers to grouping, and the configuration item value is TC cluster name|
| client.rm.async.commit.buffer.limit<br>
<!-- -->| client.rm.lock.retry.internal                    |TC Service List (Appendix 2) | Only used when the registry is file|
| client.rm.lock.retry.times<br>
<!-- -->| client.rm.lock.retry.policy.branch-rollback-on-co|global transaction switch | False by default. false is on, true is off|
| client.rm.report.retry.count<br>
<!-- -->| client.rm.table.meta.check.enable                |degradation switch (to be implemented) | False by default. The business side automatically downgrades according to the number of consecutive errors and does not go through the seata transaction|
| client.tm.commit.retry.count<br>
<!-- -->| client.tm.rollback.retry.count                   |asynchronous commit cache queue length | 10000 by default. Phase II commit succeeded. RM asynchronously cleans the undo queue|
| client.undo.data.validation<br>
<!-- -->| client.undo.log.serialization                    |check or occupy the global lock retry interval | 10 by default, in milliseconds|
| client.undo.log.table<br>
<!-- -->| client.support.spring.datasource.autoproxy       |number of retries to verify or occupy the global lock | 30 by default|</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="not-in-used">Not in used<a href="#not-in-used" class="hash-link" aria-label="Direct link to Not in used" title="Direct link to Not in used">​</a></h3><table><thead><tr><th>key</th><th>desc</th><th>remark</th></tr></thead><tbody><tr><td>lock.mode</td><td>锁存储方式</td><td>local、remote</td></tr><tr><td>lock.local</td><td></td><td></td></tr><tr><td>lock.remote</td><td></td><td></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="synchronize-parameters-to-the-configuration-center-for-use-demo">synchronize parameters to the configuration center for use demo<a href="#synchronize-parameters-to-the-configuration-center-for-use-demo" class="hash-link" aria-label="Direct link to synchronize parameters to the configuration center for use demo" title="Direct link to synchronize parameters to the configuration center for use demo">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="nacos">Nacos<a href="#nacos" class="hash-link" aria-label="Direct link to Nacos" title="Direct link to Nacos">​</a></h4><p>shell:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sh</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">${SEATAPATH}</span><span class="token plain">/script/config-center/nacos/nacos-config.sh -h localhost -p </span><span class="token number" style="color:#36acaa">8848</span><span class="token plain"> -g SEATA_GROUP -t 5a3c7d6c-f497-4d68-a71a-2e5e3340b3ca</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Parameter description:</p><p>-h: Host, the default is localhost</p><p>-p: Port, default 8848</p><p>-g: Configure grouping. The default value is&#x27; SEATA_ GROUP&#x27;</p><p>-t: Tenant information, corresponding to the namespace ID field of Nacos, the default value is null &#x27;&#x27;</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="apollo">Apollo<a href="#apollo" class="hash-link" aria-label="Direct link to Apollo" title="Direct link to Apollo">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sh</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">${SEATAPATH}</span><span class="token plain">/script/config-center/apollo/apollo-config.sh -h localhost -p </span><span class="token number" style="color:#36acaa">8070</span><span class="token plain"> -e DEV -a seata-server -c default -n application -d apollo -r apollo -t 3aa026fc8435d0fc4505b345b8fa4578fb646a2c</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Parameter description:</p><p>-h: Host, the default is localhost</p><p>-p: Port, the default value is 8070</p><p>-e: Managed configuration environment, default value DEV</p><p>-a: AppId of the Namespace. The default value is seata server</p><p>-c: The name of the managed configuration cluster is generally passed in as default. If it is a special cluster, just pass in the name of the corresponding cluster. The default value is default</p><p>-n: The name of the namespace under management, if it is not in the properties format, needs to add a suffix, such as sample Yml, default value application</p><p>-d: The creator of the item, in the format of domain account, that is, the user ID of the sso system</p><p>-r: Publisher, domain account, note: if Apollo ConfigDB namespace.lock in ServerConfig If the switch is set to true (false by default), the environment does not allow the publisher and editor to be the same person. So if the editor is zhangsan, the publisher can no longer be zhangsan.</p><p>-t: The Apollo administrator can click http://{portal_address}/open/manage Html To create a third-party application, you&#x27;d better first query whether this AppId has been created. After successful creation, a token will be generated</p><p>For details of the above parameters, see:</p><p><a href="https://github.com/ctripcorp/apollo/wiki/Apollo%E5%BC%80%E6%94%BE%E5%B9%B3%E5%8F%B0" target="_blank" rel="noopener noreferrer">https://github.com/ctripcorp/apollo/wiki/Apollo%E5%BC%80%E6%94%BE%E5%B9%B3%E5%8F%B0</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="consul">Consul<a href="#consul" class="hash-link" aria-label="Direct link to Consul" title="Direct link to Consul">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sh</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">${SEATAPATH}</span><span class="token plain">/script/config-center/consul/consul-config.sh -h localhost -p </span><span class="token number" style="color:#36acaa">8500</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Parameter description:</p><p>-h: host, the default is localhost</p><p>-p: port, the default value is 8500</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="etcd3">Etcd3<a href="#etcd3" class="hash-link" aria-label="Direct link to Etcd3" title="Direct link to Etcd3">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sh</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">${SEATAPATH}</span><span class="token plain">/script/config-center/etcd3/etcd3-config.sh -h localhost -p </span><span class="token number" style="color:#36acaa">2379</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Parameter description:</p><p>-h: Host, the default is localhost</p><p>-p: Port, the default value is 2379</p><p>python:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python </span><span class="token variable" style="color:#36acaa">${SEATAPATH}</span><span class="token plain">/script/config-center/nacos/nacos-config.py localhost:8848</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="zk">ZK<a href="#zk" class="hash-link" aria-label="Direct link to ZK" title="Direct link to ZK">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sh</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">${SEATAPATH}</span><span class="token plain">/script/config-center/zk/zk-config.sh -h localhost -p </span><span class="token number" style="color:#36acaa">2181</span><span class="token plain"> -z </span><span class="token string" style="color:#e3116c">&quot;/Users/zhangchenghui/zookeeper-3.4.14&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Parameter description:</p><p>-h: Host, the default is localhost</p><p>-p: Port, the default value is 2181</p><p>-z: zk path</p><p>###Appendix 1:</p><p>Description of transaction grouping.</p><ol><li>What is a transaction group?</li></ol><p>Transaction grouping is the resource logic of seata, similar to service instance. My in file.conf<em> test</em> tx_ A group is a transaction group.</p><ol start="2"><li>How to find the back-end cluster through transaction grouping?</li></ol><p>First, the program configures transaction grouping (txServiceGroup parameter of GlobalTransactionScanner construction method), and the program will search for service.vgroup through the user configured configuration center_ mapping. Transaction grouping configuration item. The value of the configuration item obtained is the name of the TC cluster. The program that obtains the cluster name constructs the service name through a certain prefix+cluster name. The service name of each configuration center is different. Get the service name, go to the corresponding registry, pull the service list of the corresponding service name, and get the real TC service list of the back-end.</p><ol start="3"><li>Why is the design so that the service name is not directly taken?</li></ol><p>There is an additional layer to obtain the configuration of transaction groups to the mapping cluster. After this design, the transaction group can be used as the logical isolation unit of resources, which can quickly fail over when a failure occurs.</p><p>###Appendix 2:</p><p>About the grouplist question.</p><ol><li>When will the default.grouplist in file.conf be used?</li></ol><p>It is used when registry. type=file. It is not read in other times.</p><ol start="2"><li>Can multiple value lists be configured for default.grouplist?</li></ol><p>Multiple can be configured, which means cluster, but when store When mode=file, an error will be reported. The reason is that the file storage mode does not provide synchronization of local files, so you need to use store. mode=db to share data between TC clusters through db</p><ol start="3"><li>Is default.grouplist recommended?</li></ol><p>Not recommended. For example, question 1, when registering It is used when type=file, which means that the real registry is not used here, and the health check mechanism without specific services cannot automatically remove the list when the tc is unavailable. It is recommended to use nacos, eureka, redis, zk, consumer, etcd3, and sofa. Registry. type=file or config The original purpose of type=file design is to enable users to quickly verify the seata service through direct connection without relying on a third-party registry or configuration center.</p><p>###Appendix 3:</p><p>log_ Status=1 is defensive. It means that a global rollback request is received, but it is uncertain whether the local transaction of a transaction branch has been executed. At this time, a piece of data with the same branch ID is inserted in advance, and the inserted false data is successful. If the local transaction continues to execute, the master key conflict will be automatically rolled back.</p><p>If the insertion is unsuccessful, it indicates that the local transaction has been completed, and the undo data is taken out for reverse rollback.</p><p>###Appendix 4:</p><p>Whether to enable spring boot automatic assembly. If it is enabled, the integration of seata and spring boot will be automatically configured, including the automatic proxy of data source and initialization of GlobalTransactionScanner.</p><p>Note: New features of version 1.0 need to rely on seata spring boot starter.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#client端" class="table-of-contents__link toc-highlight">client端</a></li><li><a href="#not-in-used" class="table-of-contents__link toc-highlight">Not in used</a></li><li><a href="#synchronize-parameters-to-the-configuration-center-for-use-demo" class="table-of-contents__link toc-highlight">synchronize parameters to the configuration center for use demo</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.b984d76c.js"></script>
<script src="/assets/js/main.b5f6ea4a.js"></script>
</body>
</html>
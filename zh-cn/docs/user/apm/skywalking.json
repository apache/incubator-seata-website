{
  "filename": "skywalking.md",
  "__html": "<h1>SkyWalking APM（应用性能监控）</h1>\n<p>SkyWalking 是 Seata 组件中重要的APM（应用性能监控）实现.</p>\n<h2>预备工作</h2>\n<p>当您将 SkyWalking 整合到您的 Seata 工程前，请确保后台已经启动 SkyWalking 服务，如果您尚且不熟悉 SkyWalking 的基本使用的话，可先行参考 <a href=\"https://github.com/apache/skywalking/tree/master/docs\">SkyWalking 快速入门</a>。建议使用 SkyWalking <code>8.4.0</code> 及以上的版本。</p>\n<h2>快速上手</h2>\n<p>Seata 融合 SkyWalking 应用性能监控的操作步骤非常简单，大致步骤可分为&quot;编译&amp;配置&quot;以及&quot;接入监控&quot;这两个步骤。</p>\n<h3>编译&amp;配置</h3>\n<p>首先，您需要下载Seata源码，并在源码根目录执行:</p>\n<p><code>mvn clean package -Dmaven.test.skip=true</code></p>\n<p>将<code>seata/ext/apm-skywalking/target/seata-skywalking-{version}.jar</code>放入SkyWalking 探针插件文件夹中</p>\n<p>强烈地推荐您使用 Seata 最新版：</p>\n<h3>接入监控</h3>\n<p>Seata 的客户端和服务端接入SkyWalking与其他应用服务并无二致，可参考<a href=\"https://github.com/apache/skywalking/blob/f3b567160ce61675cb692c3417101162d67093de/docs/en/setup/service-agent/java-agent/Setting-override.md\">SkyWalking 探针配置</a>。</p>\n<p>Seata 涉及的重要参数有：</p>\n<table>\n<thead>\n<tr>\n<th>参数</th>\n<th>备注</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>skywalking.plugin.seata.server</td>\n<td>布尔属性，当值为<code>true</code>，标识本应用服务是否为Seata server</td>\n</tr>\n<tr>\n<td>skywalking.plugin.jdbc.trace_sql_parameters</td>\n<td>布尔属性，当值为<code>true</code>，本应用服务记录sql参数</td>\n</tr>\n<tr>\n<td>skywalking.agent.service_name</td>\n<td>字符串属性，标识本应用服务在SkyWalking的唯一标识</td>\n</tr>\n</tbody>\n</table>\n<p>Seata客户端探针参数可参考</p>\n<pre><code>java -javaagent:{path}/skywalking-agent.jar -Dskywalking.agent.service_name=seata_biz -Dskywalking.plugin.jdbc.trace_sql_parameters=true -jar seata_biz.jar\n</code></pre>\n<p>Seata服务端探针参数可参考</p>\n<pre><code>java -javaagent:{path}/skywalking-agent.jar -Dskywalking.agent.service_name=seata_tc -Dskywalking.plugin.jdbc.trace_sql_parameters=true -Dskywalking.plugin.seata.server=true -jar seata_tc.jar\n</code></pre>\n<h2>注意事项</h2>\n<ol>\n<li>当前只支持非批处理（enableClientBatchSendRequest 为 false）的分布式事务模式</li>\n</ol>\n",
  "link": "/zh-cn/docs/user/apm/skywalking.html",
  "meta": {}
}
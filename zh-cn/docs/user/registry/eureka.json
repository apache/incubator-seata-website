{
  "filename": "eureka.md",
  "__html": "<h1>Eureka 注册中心</h1>\n<p>Eureka是 Seata 组件中重要的注册中心实现.</p>\n<h2>预备工作</h2>\n<p>当您将<code>Eureka</code>整合到您的 Seata工程之前，请确保后台已经启动 Eureka Server服务。如果您尚且不熟悉 Eureka的基本使用的话，可先行参考 <a href=\"https://projects.spring.io/spring-cloud/spring-cloud.html#_service_discovery_eureka_clients\">Eureka快速入门</a>。建议使用 Eureka <code>2.X</code> 及以上的版本。</p>\n<h2>快速上手</h2>\n<p>Seata 融合 Eureka注册中心的操作步骤非常简单，大致步骤可分为“增加 Maven 依赖”以及“配置注册中心“。</p>\n<h3>增加 Maven 依赖</h3>\n<p>首先，您需要将 <code>spring-cloud-starter-netflix-eureka-client</code> 的 Maven 依赖添加到您的项目 <code>pom.xml</code> 文件中，建议使用 Seata <code>1.4.0+</code>，<code>spring-cloud-starter-alibaba-seata</code>的版本与对应微服务版本对应关系请参考<a href=\"https://github.com/alibaba/spring-cloud-alibaba/wiki/%E7%89%88%E6%9C%AC%E8%AF%B4%E6%98%8E\">版本说明</a></p>\n<pre><code class=\"language-xml\"><span class=\"hljs-comment\">&lt;!-- seata 依赖 --&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>io.seata<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>seata-spring-boot-starter<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>最新版<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>com.alibaba.cloud<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-cloud-starter-alibaba-seata<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>2.1.2.RELEASE及以上版本<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">exclusions</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">exclusion</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>io.seata<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>seata-spring-boot-starter<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">exclusion</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">exclusions</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n\n<span class=\"hljs-comment\">&lt;!-- eureka 客户端依赖 --&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>org.springframework.cloud<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>spring-cloud-starter-netflix-eureka-client<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>2.0.0.RELEASE及以上版本<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span>\n</code></pre>\n<h3>Client端配置注册中心</h3>\n<p>在 <a href=\"https://github.com/seata/seata/blob/develop/script/client/spring/application.yml\"><strong>application.yml</strong></a> 中加入对应的配置中心,其余<a href=\"https://github.com/seata/seata/tree/develop/script/client\">配置参考</a></p>\n<pre><code class=\"language-yaml\"><span class=\"hljs-attr\">seata:</span>\n<span class=\"hljs-attr\">  tx-service-group:</span> <span class=\"hljs-string\">my_test_tx_group</span>\n<span class=\"hljs-attr\">  service:</span>\n<span class=\"hljs-attr\">    vgroup-mapping:</span>\n<span class=\"hljs-attr\">      my_test_tx_group:</span> <span class=\"hljs-string\">seata-server</span> <span class=\"hljs-comment\"># 此处配置对应Server端配置registry.eureka.application的值</span>\n<span class=\"hljs-attr\">  registry:</span>\n<span class=\"hljs-attr\">    type:</span> <span class=\"hljs-string\">eureka</span>\n<span class=\"hljs-attr\">    eureka:</span>\n<span class=\"hljs-attr\">      service-url:</span> <span class=\"hljs-attr\">http://localhost:8761/eureka</span>\n<span class=\"hljs-attr\">      weight:</span> <span class=\"hljs-number\">1</span>\n</code></pre>\n<h3>Server端配置注册中心</h3>\n<p>在 <a href=\"https://github.com/seata/seata/blob/develop/script/server/config/registry.conf\">registry.conf</a> 中加入对应配置中心,其余<a href=\"https://github.com/seata/seata/tree/develop/script/server\">配置参考</a></p>\n<pre><code>registry {\n  type = &quot;eureka&quot;\n \n  eureka {\n    serviceUrl = &quot;http://localhost:8761/eureka&quot;\n    application = &quot;seata-server&quot;\n    weight = &quot;1&quot;\n  }\n}\n</code></pre>\n<p>随后,启动 Seata-Server 后，会发现Server端的服务出现在 Eureka控制台中的注册中心列表中. Client 配置完成后启动应用就可以正式体验 Seata 服务。</p>\n",
  "link": "/zh-cn/docs/user/registry/eureka.html",
  "meta": {}
}